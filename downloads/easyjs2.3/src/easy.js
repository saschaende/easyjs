var easyjs=function(){var e=function(){var e=function(){$(".easyjs-popover").hide()},o=function(e){var o={target:$("#popover-target"),popover:$("#popover-content"),position:"lt",content:!1},s=$.extend({},o,e),t=s.position,a=s.popover,i=s.target;0!=s.content&&a.html(s.content),a.css("z-index",easyjs.helpers.zindex()),a.css("position","absolute"),a.css("top","0px"),a.css("left","0px"),a.appendTo("body"),a.show();var l=i.offset(),r=l.top,n=l.left,d=r,c=n;"lt"==t&&(d=r,c=n-a.outerWidth()),"lb"==t&&(d=r+i.outerHeight()-a.outerHeight(),c=n-a.outerWidth()),"rt"==t&&(d=r,c=n+i.outerWidth()),"rb"==t&&(d=r+i.outerHeight()-a.outerHeight(),c=n+i.outerWidth()),"tl"==t&&(d=r-a.outerHeight(),c=n),"tr"==t&&(d=r-a.outerHeight(),c=n+i.outerWidth()-a.outerWidth()),"bl"==t&&(d=r+i.outerHeight(),c=n),"br"==t&&(d=r+i.outerHeight(),c=n+i.outerWidth()-a.outerWidth()),"t"==t&&(d=r-a.outerHeight(),c=n+(i.outerWidth()-a.outerWidth())/2),"b"==t&&(d=r+i.outerHeight(),c=n+(i.outerWidth()-a.outerWidth())/2),"r"==t&&(d=r+(i.outerHeight()-a.outerHeight())/2,c=n+i.outerWidth()),"l"==t&&(d=r+(i.outerHeight()-a.outerHeight())/2,c=n-a.outerWidth()),"tlc"==t&&(d=r-a.outerHeight(),c=n-a.outerWidth()),"trc"==t&&(d=r-a.outerHeight(),c=n+i.outerWidth()),"brc"==t&&(d=r+i.outerHeight(),c=n+i.outerWidth()),"blc"==t&&(d=r+i.outerHeight(),c=n-a.outerWidth()),a.css("top",d),a.css("left",c)};return{show:o,init:e}}(),o=function(){var e=0,o=function(o){$(".easyjs-menu-horizontal ul, .easyjs-menu-horizontal li").css("list-style","none"),$(".easyjs-menu-horizontal > ul > li").css("display","inline-block"),$(".easyjs-menu-horizontal a").css("display","block"),$(".easyjs-menu-horizontal").css("position","relative"),$(".easyjs-menu-horizontal ul").css("position","absolute"),$(".easyjs-menu-horizontal").css("min-height",$(".easyjs-menu-horizontal ul").height());var s=1;$(".easyjs-menu-horizontal ul").each(function(e,o){"UL"==this.tagName&&($(this).attr("data-level",s),s+=1)}),$("body").delegate(".easyjs-menu-horizontal li","mouseenter",function(){var o=$(this).outerWidth(),s=($(this).outerHeight(),$(this).parent().attr("data-level"));$(this).addClass("ishover"),$(this).css("z-index",easyjs.helpers.zindex()),$(this).css("position","relative"),$(this).css("white-space","nowrap"),$(this).find("> ul").css("min-width",o+"px"),$(this).find("> ul").fadeIn(e),s>1&&($(this).find("> ul").css("top","0px"),$(this).find("> ul").css("left",o+"px"))}),$("body").delegate(".easyjs-menu-horizontal li","mouseleave",function(){$(this).removeClass("ishover");var o=$(this);setTimeout(function(){0==o.hasClass("ishover")&&o.find("ul").fadeOut(e)},50)}),$(".easyjs-menu-horizontal ul li ul").hide(),$(".easyjs-menu-vertical ul, .easyjs-menu-vertical li").css("list-style","none"),$(".easyjs-menu-vertical a").css("display","block"),$(".easyjs-menu-vertical > ul > li li").css("display","block"),$(".easyjs-menu-vertical").css("position","relative"),$(".easyjs-menu-vertical ul").css("position","absolute"),$(".easyjs-menu-vertical").css("min-height",$(".easyjs-menu-vertical ul").height());var s=1;$(".easyjs-menu-vertical ul").each(function(e,o){"UL"==this.tagName&&($(this).attr("data-level",s),s+=1)}),$("body").delegate(".easyjs-menu-vertical li","mouseenter",function(){var o=$(this).outerWidth();$(this).outerHeight(),$(this).parent().attr("data-level");$(this).addClass("ishover"),$(this).css("z-index",easyjs.helpers.zindex()),$(this).css("position","relative"),$(this).css("white-space","nowrap"),$(this).find("> ul").css("min-width",o+"px"),$(this).find("> ul").fadeIn(e),$(this).find("> ul").css("top","0px"),$(this).find("> ul").css("left",o+"px")}),$("body").delegate(".easyjs-menu-vertical li","mouseleave",function(){$(this).removeClass("ishover");var o=$(this);setTimeout(function(){0==o.hasClass("ishover")&&o.find("ul").fadeOut(e)},50)}),$(".easyjs-menu-vertical ul li ul").hide()};return{init:o}}(),s=function(){var e,o,s={color:"#FFF",bgcolor:"#000",maxwidth:"400px",font:"Arial",fontsize:"11px",padding:6,borderradius:"5px",selector:"[title]",title_attr:"title"},t=function(e){o=$.extend({},s,e),$(document).on("mousemove",o.selector,a),$(document).on("mouseenter",o.selector,i),$(document).on("mouseleave",o.selector,l)},a=function(){var e=easyjs.mouse.getx()-$(".easy-tooltip-container").outerWidth()/2;0>e&&(e=0),$(".easy-tooltip-container").css("left",e+"px")},i=function(){var s=$(this);e=s.attr(o.title_attr),s.attr(o.title_attr,"");var t='<div class="easy-tooltip-container" style="display:inline; font-family:'+o.font+";font-size:"+o.fontsize+";max-width:"+o.maxwidth+";color:"+o.color+";background:"+o.bgcolor+";border-radius: "+o.borderradius+"; padding: "+o.padding+'px;">';t+=e,t+='<div class="easy-tooltip-arrow" style="position:absolute;border-style: solid;"></div>',t+="</div>",$("body").append(t);var a=s.offset(),i=a.top,l=easyjs.mouse.getx()-$(".easy-tooltip-container").outerWidth()/2;0>l&&(l=0);var r=i-$(".easy-tooltip-container").outerHeight()-15-$(document).scrollTop();0>r?(i=i+30+$(this).outerHeight(),$(".easy-tooltip-arrow").css("border-width","0 7.5px 10px 7.5px"),$(".easy-tooltip-arrow").css("border-color","transparent transparent "+o.bgcolor+" transparent"),$(".easy-tooltip-arrow").css("top","-9px")):(i=i-15-$(".easy-tooltip-container").outerHeight(),$(".easy-tooltip-arrow").css("border-width","10px 7.5px 0 7.5px"),$(".easy-tooltip-arrow").css("border-color",o.bgcolor+" transparent transparent transparent"),$(".easy-tooltip-arrow").css("bottom","-9px")),$(".easy-tooltip-container").css("position","absolute"),$(".easy-tooltip-container").css("top",i+"px"),$(".easy-tooltip-container").css("left",l+"px"),$(".easy-tooltip-container").css("zindex",easyjs.helpers.zindex()),$(".easy-tooltip-container").css("font-family",o.font),$(".easy-tooltip-container").css("font-size",o.fontsize),$(".easy-tooltip-arrow").css("left",$(".easy-tooltip-container").outerWidth()/2+"px")},l=function(){$(".easy-tooltip-container").remove(),$(this).attr(o.title_attr,e)};return{init:t}}(),t=function(){var e,o,s=function(){$(document).ready(function(){$(document).mousemove(function(e){t(e.clientX),a(e.clientY+$(document).scrollTop())})})},t=function(o){e=o},a=function(e){o=e},i=function(){return e},l=function(){return o};return{init:s,setx:t,sety:a,getx:i,gety:l}}(),a=function(){var e=function(){var e=0;return $("*").each(function(){var o=parseInt($(this).css("z-index"));e=o>e?o:e}),e+1};return{zindex:e}}(),i=function(){var e,o,s=function(o){e=o},t=function(e){return o.onbeforeclose()&&($("body").off("mousedown"),$("body").css("overflow","auto"),o.escape&&$("body").off("keydown"),o.fade?$(".easyjs-modal-bg,.easyjs-modal-modal").fadeOut(500,function(){$(".easyjs-modal-bg,.easyjs-modal-modal").remove()}):$(".easyjs-modal-bg,.easyjs-modal-modal").remove(),o.onclose()),!1},a=function(s){var a={title:!1,titlecolor:"#666",bgtitle:"#EEE",titleborder:"1px solid #CCC",content:!1,contentcolor:"#666",bgcontent:"#FFF",close:!0,bgclose:"#666",closecolor:"#EEE",closeborder:"0px solid #CCC",onbeforeclose:function(){return!0},onclose:function(){},hoverbgclose:"#CCC",hoverclosecolor:"#000",closehoverborder:"0px solid #CCC",iframe:!1,iframepadding:10,iframescroll:"no",ajax:!1,image:!1,container:!1,width:"auto",height:"auto",border:"0px solid #CCC",rounded:!0,borderradius:5,shadow:!0,background:!0,draggable:!1,fade:!1,escape:!1,buttons:null,buttonsborder:"1px solid #CCC",buttonsbg:"#EEE"},i=$.extend({},e,s);o=$.extend({},a,i),$("body").css("overflow","hidden");var l=$(window).innerWidth(),r=$(window).innerHeight();if("full"==o.width)var n=l-l/100*10+"px";else var n=o.width;if("full"==o.height)var d=r-r/100*10+"px";else var d=o.height;var c=l+"px",u=r+"px";"auto"==o.width&&(c=l-l/100*10+"px"),"auto"==o.height&&(u=r-r/100*10+"px"),o.background&&$("body").append('<div class="easyjs-modal-bg" style="z-index:'+easyjs.helpers.zindex()+";display:inline;position:absolute;top:"+$(document).scrollTop()+"px;left:0px;background:#000;opacity:0.5;width:"+l+"px;height:"+r+'px;"></div>'),$(".easyjs-modal-bg").click(function(e){e.preventDefault()});var m='<div class="easyjs-modal-modal" style="z-index:'+easyjs.helpers.zindex()+";display:none;position:absolute;width:"+n+";height:"+d+";min-width:200px;max-width: "+c+"; max-height: "+u+';">';if(0!=o.title){m+='<div class="easyjs-modal-title" style="padding: 10px; font-weight:bold; font-size:120%;">'+o.title+"</div>";var p="10",h="10"}else if(0!=o.container&&$(o.container).is("[title]")){m+='<div class="easyjs-modal-title" style="padding: 10px; font-weight:bold; font-size:120%;">'+$(o.container).attr("title")+"</div>";var p="10",h="10"}else var p="-12",h="-12";if(o.close&&(m+='<a href="javascript:void(0);" class="easyjs-modal-close" style="text-decoration:none; display:block; width:24px; height:24px; border-radius: 3px; position:absolute; right: '+h+"px; top: "+p+'px;line-height: 24px; vertical-align:middle; font-size:16px; font-face:Arial; text-align:center;">X</a>'),0!=o.iframe){var y='<iframe class="easyjs-modal-iframe" frameborder="0" allowfullscreen></iframe>';m+='<div style="padding: '+o.iframepadding+'px;">',m+=y,m+="</div>"}else if(0!=o.content)m+='<div style="padding: 10px;">',m+=o.content,m+="</div>";else if(0!=o.ajax)m+='<div style="padding: 10px;" class="easyjs-modal-ajax">',m+="Loading",m+="</div>";else if(0!=o.image){var f=l-l/100*20+"px",g=r-r/100*20+"px";m+='<div style="padding: 10px;" class="easyjs-modal-image">',m+='<img src="'+o.image+'" style="max-width:'+f+";max-height:"+g+';">',m+="</div>"}else 0!=o.container&&(m+='<div style="padding: 10px;">',m+=$(o.container).html(),m+="</div>");if(m+="</div>",$("body").append(m),$(".easyjs-modal-modal").hide(),0!=o.image){var b=$(".easyjs-modal-image img");b.prop("complete")||b.on("load",function(){var e=(l-$(".easyjs-modal-modal").outerWidth())/2,o=(r-$(".easyjs-modal-modal").outerHeight())/2;o+=$(document).scrollTop(),$(".easyjs-modal-modal").css("left",e+"px"),$(".easyjs-modal-modal").css("top",o+"px")})}if(null!=o.buttons){$(".easyjs-modal-modal").append('<div class="easyjs-modal-footer" style="width:100%;height:60px;padding: 10px; position:absolute;bottom:0px;left:0px;text-align:right;"></div>');var v=1;$.each(o.buttons,function(e,o){var s="smb"+v;$(".easyjs-modal-footer").append('<button type="button" style="margin-right: 3px;" class="easyjs-modal-button '+o.style+'" id="'+s+'">'+e+"</button>"),$("#"+s).click(function(){o.action()}),v++}),$(".easyjs-modal-modal").height($(".easyjs-modal-modal").height()+60)}if(o.fade?$(".easyjs-modal-bg,.easyjs-modal-modal").fadeIn(500):$(".easyjs-modal-bg,.easyjs-modal-modal").show(),0!=o.ajax&&$.post(o.ajax,function(e){$(".easyjs-modal-ajax").css("overflow","auto"),$(".easyjs-modal-ajax").html(e);var s=(l-$(".easyjs-modal-modal").outerWidth())/2,t=(r-$(".easyjs-modal-modal").outerHeight())/2;t+=$(document).scrollTop(),$(".easyjs-modal-modal").css("left",s+"px"),$(".easyjs-modal-modal").css("top",t+"px");var a=$(".easyjs-modal-modal").outerWidth(),i=$(".easyjs-modal-modal").outerHeight()-$(".easyjs-modal-title").outerHeight()-2*o.iframepadding;$(".easyjs-modal-ajax").css("width",a+"px"),$(".easyjs-modal-ajax").css("height",i+"px")}),null!=o.iframe&&$(".easyjs-modal-iframe").attr("src",o.iframe),$(".easyjs-modal-modal").css("background",o.bgcontent),$(".easyjs-modal-modal").css("color",o.contentcolor),$(".easyjs-modal-title").css("background",o.bgtitle),$(".easyjs-modal-title").css("color",o.titlecolor),$(".easyjs-modal-title").css("border-bottom",o.titleborder),$(".easyjs-modal-footer").css("border-top",o.buttonsborder),$(".easyjs-modal-footer").css("background",o.buttonsbg),$(".easyjs-modal-close").css("background",o.bgclose),$(".easyjs-modal-close").css("color",o.closecolor),$(".easyjs-modal-close").css("border",o.closeborder),$(".easyjs-modal-modal").css("border",o.border),o.rounded&&($(".easyjs-modal-modal").css("border-radius",o.borderradius+"px"),$(".easyjs-modal-title").css("border-top-left-radius",o.borderradius+"px"),$(".easyjs-modal-title").css("border-top-right-radius",o.borderradius+"px"),$(".easyjs-modal-footer").css("border-bottom-left-radius",o.borderradius+"px"),$(".easyjs-modal-footer").css("border-bottom-right-radius",o.borderradius+"px")),o.shadow&&(o.background?$(".easyjs-modal-modal").css("box-shadow","10px 10px 10px #555555"):$(".easyjs-modal-modal").css("box-shadow","5px 5px 5px #BDBDBD")),null!=o.iframe){var j=$(".easyjs-modal-modal").outerWidth()-2*o.iframepadding,x=$(".easyjs-modal-modal").outerHeight()-$(".easyjs-modal-title").outerHeight()-2*o.iframepadding;$(".easyjs-modal-iframe").attr("scrolling",o.iframescroll),$(".easyjs-modal-iframe").css("width",j+"px"),$(".easyjs-modal-iframe").css("height",x+"px"),$(".easyjs-modal-iframe").css("overflow","hidden")}var w=(l-$(".easyjs-modal-modal").outerWidth())/2,z=(r-$(".easyjs-modal-modal").outerHeight())/2;if(z+=$(document).scrollTop(),$(".easyjs-modal-modal").css("left",w+"px"),$(".easyjs-modal-modal").css("top",z+"px"),$(".easyjs-modal-close").click(function(){t()}),$(".easyjs-modal-close").mouseleave(function(){$(".easyjs-modal-close").css("background",o.bgclose),$(".easyjs-modal-close").css("color",o.closecolor),$(".easyjs-modal-close").css("border",o.closeborder)}),$(".easyjs-modal-close").mouseenter(function(){$(".easyjs-modal-close").css("background",o.hoverbgclose),$(".easyjs-modal-close").css("color",o.hoverclosecolor),$(".easyjs-modal-close").css("border",o.closehoverborder)}),o.draggable){$(".easyjs-modal-title").css("cursor","move");var H=null;$("body").on("mousedown",".easyjs-modal-title",function(e){$(this).attr("unselectable","on").addClass("draggable");var o=$(".draggable").outerWidth(),s=$(".draggable").outerHeight();$("body").on("mousemove",function(e){H&&H.offset({top:e.pageY-s/2,left:e.pageX-o/2})}),H=$(".easyjs-modal-modal")}).on("mouseup",".draggable",function(e){H=null,$(this).removeAttr("unselectable").removeClass("draggable")})}return o.escape&&$("body").keydown(function(e){27==e.which&&(e.preventDefault(),t())}),this};return{show:a,close:t,config:s}}();return{modal:i,helpers:a,mouse:t,tooltip:s,menu:o,popover:e}}();$(document).ready(function(){$(".easyjs-hide").hide(),easyjs.mouse.init(),easyjs.menu.init(),easyjs.popover.init()});