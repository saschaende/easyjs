var easyjs=function(){var e=function(){var e=0,t=[],o={color:"#333333",maxwidth:"500px",minwidth:"300px",font:"Arial",fontsize:"13px",padding:10,borderradius:"5px",txt_next:"Next »",txt_prev:"« Prev",txt_end:"End tour"},s=function(e){o=$.extend({},o,e)},a=function(e){t=e.tour,n()},i=function(e){var t=e.offset(),o=t.top,s=t.left;$(".easyjs-tour-bg").remove(),$("body").append('<div class="easyjs-tour-bg top"></div>'),$("body").append('<div class="easyjs-tour-bg left"></div>'),$("body").append('<div class="easyjs-tour-bg right"></div>'),$("body").append('<div class="easyjs-tour-bg bottom"></div>'),$(".easyjs-tour-bg").css({"z-index":easyjs.helpers.zindex(),display:"none",position:"absolute",background:"#000",opacity:"0.4"});var a=0,i=0,r=$(document).width(),n=o;$(".easyjs-tour-bg.top").css({top:a+"px",left:i+"px",width:r+"px",height:n+"px"});var l=o,d=0,c=s,u=e.height();$(".easyjs-tour-bg.left").css({top:l+"px",left:d+"px",width:c+"px",height:u+"px"});var p=o,h=s+e.width(),m=$(document).width()-s-e.width(),y=e.height();$(".easyjs-tour-bg.right").css({top:p+"px",left:h+"px",width:m+"px",height:y+"px"});var f=o+e.height(),b=0,g=$(document).width(),x=$(document).height()-o;$(".easyjs-tour-bg.bottom").css({top:f+"px",left:b+"px",width:g+"px",height:x+"px"}),$(".easyjs-tour-bg").show()},r=function(){e-=2,d(e),e+=1},n=function(){d(e),e+=1},l=function(){$(".easyjs-tour-bg").fadeOut(500),$(".easy-tour-container").fadeOut(500),$("html, body").animate({scrollTop:0},1e3)},d=function(e){if(e>t.length-1)return void l();var s=t[e];i($(s.element)),$(".easy-tour-container").remove();var a=$(s.element),r='<p style="background:#f7f7f7;padding: '+o.padding+"px;border-bottom:1px solid #ebebeb; font-weight:bold; font-size:110%; border-top-left-radius: "+o.borderradius+"; border-top-right-radius: "+o.borderradius+';">'+s.title+"</p>";r+='<p style="padding: '+o.padding+'px;">'+s.content+"</p>",r+='<p style="padding: '+o.padding+'px;">',r+=0==e?'<a href="javascript:void(0);" class="tourbtn prev disabled">'+o.txt_prev+"</a>":'<a href="javascript:easyjs.tour.prev();" class="tourbtn prev active">'+o.txt_prev+"</a>",r+=e+1>t.length-1?'<a href="javascript:javascript:void(0);" class="tourbtn next disabled">'+o.txt_next+"</a>":'<a href="javascript:easyjs.tour.next();" class="tourbtn next active">'+o.txt_next+"</a>",r+='<a href="javascript:easyjs.tour.stop();" class="tourbtn end active">'+o.txt_end+"</a>",r+='<div style="clear:both;"></div></p>';var n='<div class="easy-tour-container" style="z-index:'+easyjs.helpers.zindex()+";display:none; font-family:"+o.font+";font-size:"+o.fontsize+";min-width:"+o.minwidth+";max-width:"+o.maxwidth+";color:"+o.color+";background:#FFF;border-radius: "+o.borderradius+';">';n+=r,n+='<div class="easy-tour-arrow" style="position:absolute;border-style: solid;"></div>',n+="</div>",$("body").append(n);var d=a.offset(),c=d.top,u=d.left+(a.outerWidth()-$(".easy-tour-container").outerWidth())/2;0>u&&(u=0);var p=c-$(".easy-tour-container").outerHeight()-15-$(document).scrollTop();0>p?(c=c+15+a.outerHeight(),$(".easy-tour-arrow").css("border-width","0 7.5px 10px 7.5px"),$(".easy-tour-arrow").css("border-color","transparent transparent #FFF transparent"),$(".easy-tour-arrow").css("top","-9px")):(c=c-15-$(".easy-tour-container").outerHeight(),$(".easy-tour-arrow").css("border-width","10px 7.5px 0 7.5px"),$(".easy-tour-arrow").css("border-color","#FFF transparent transparent transparent"),$(".easy-tour-arrow").css("bottom","-9px")),$(".easy-tour-container").css({position:"absolute",top:c+"px",left:u+"px",zindex:easyjs.helpers.zindex(),"font-family":o.font,"font-size":o.fontsize}),$(".easy-tour-container .tourbtn").css({color:"#000",padding:"5px","text-decoration":"none",background:"#FFF",border:"1px solid #CCC","border-radius":"3px","float":"left"}),$(".easy-tour-container .tourbtn.prev").css({"border-right":"0px","border-top-right-radius":"0px","border-bottom-right-radius":"0px"}),$(".easy-tour-container .tourbtn.active").hover(function(){$(this).css("background","#EEE")},function(){$(this).css("background","#FFF")}),$(".easy-tour-container .tourbtn.next").css({"border-top-left-radius":"0px","border-bottom-left-radius":"0px"}),$(".easy-tour-container .tourbtn.end").css({"float":"right"}),$(".easy-tour-container .tourbtn.disabled").css({opacity:"0.5"}),$(".easy-tour-container").css("box-shadow","6px 6px 6px #555555"),$(".easy-tour-arrow").css("left",$(".easy-tour-container").outerWidth()/2+"px"),$("html, body").animate({scrollTop:c-$(window).innerHeight()/4},1e3),$(".easy-tour-container").fadeIn(500)};return{start:a,show:d,showbg:i,next:n,prev:r,stop:l,config:s}}(),t=function(){var e=function(){$(".easyjs-popover").hide()},t=function(e){var t={target:$("#popover-target"),popover:$("#popover-content"),position:"lt",content:!1},o=$.extend({},t,e),s=o.position,a=o.popover,i=o.target;0!=o.content&&a.html(o.content),a.css("z-index",easyjs.helpers.zindex()),a.css("position","absolute"),a.css("top","0px"),a.css("left","0px"),a.appendTo("body"),a.show();var r=i.offset(),n=r.top,l=r.left,d=n,c=l;"lt"==s&&(d=n,c=l-a.outerWidth()),"lb"==s&&(d=n+i.outerHeight()-a.outerHeight(),c=l-a.outerWidth()),"rt"==s&&(d=n,c=l+i.outerWidth()),"rb"==s&&(d=n+i.outerHeight()-a.outerHeight(),c=l+i.outerWidth()),"tl"==s&&(d=n-a.outerHeight(),c=l),"tr"==s&&(d=n-a.outerHeight(),c=l+i.outerWidth()-a.outerWidth()),"bl"==s&&(d=n+i.outerHeight(),c=l),"br"==s&&(d=n+i.outerHeight(),c=l+i.outerWidth()-a.outerWidth()),"t"==s&&(d=n-a.outerHeight(),c=l+(i.outerWidth()-a.outerWidth())/2),"b"==s&&(d=n+i.outerHeight(),c=l+(i.outerWidth()-a.outerWidth())/2),"r"==s&&(d=n+(i.outerHeight()-a.outerHeight())/2,c=l+i.outerWidth()),"l"==s&&(d=n+(i.outerHeight()-a.outerHeight())/2,c=l-a.outerWidth()),"tlc"==s&&(d=n-a.outerHeight(),c=l-a.outerWidth()),"trc"==s&&(d=n-a.outerHeight(),c=l+i.outerWidth()),"brc"==s&&(d=n+i.outerHeight(),c=l+i.outerWidth()),"blc"==s&&(d=n+i.outerHeight(),c=l-a.outerWidth()),a.css("top",d),a.css("left",c)};return{show:t,init:e}}(),o=function(){var e=0,t=function(t){$(".easyjs-menu-horizontal ul, .easyjs-menu-horizontal li").css("list-style","none"),$(".easyjs-menu-horizontal > ul > li").css("display","inline-block"),$(".easyjs-menu-horizontal a").css("display","block"),$(".easyjs-menu-horizontal").css("position","relative"),$(".easyjs-menu-horizontal ul").css("position","absolute"),$(".easyjs-menu-horizontal").css("min-height",$(".easyjs-menu-horizontal ul").height());var o=1;$(".easyjs-menu-horizontal ul").each(function(e,t){"UL"==this.tagName&&($(this).attr("data-level",o),o+=1)}),$("body").delegate(".easyjs-menu-horizontal li","mouseenter",function(){var t=$(this).outerWidth(),o=($(this).outerHeight(),$(this).parent().attr("data-level"));$(this).addClass("ishover"),$(this).css("z-index",easyjs.helpers.zindex()),$(this).css("position","relative"),$(this).css("white-space","nowrap"),$(this).find("> ul").css("min-width",t+"px"),$(this).find("> ul").fadeIn(e),o>1&&($(this).find("> ul").css("top","0px"),$(this).find("> ul").css("left",t+"px"))}),$("body").delegate(".easyjs-menu-horizontal li","mouseleave",function(){$(this).removeClass("ishover");var t=$(this);setTimeout(function(){0==t.hasClass("ishover")&&t.find("ul").fadeOut(e)},50)}),$(".easyjs-menu-horizontal ul li ul").hide(),$(".easyjs-menu-vertical ul, .easyjs-menu-vertical li").css("list-style","none"),$(".easyjs-menu-vertical a").css("display","block"),$(".easyjs-menu-vertical > ul > li li").css("display","block"),$(".easyjs-menu-vertical").css("position","relative"),$(".easyjs-menu-vertical ul").css("position","absolute"),$(".easyjs-menu-vertical").css("min-height",$(".easyjs-menu-vertical ul").height());var o=1;$(".easyjs-menu-vertical ul").each(function(e,t){"UL"==this.tagName&&($(this).attr("data-level",o),o+=1)}),$("body").delegate(".easyjs-menu-vertical li","mouseenter",function(){var t=$(this).outerWidth();$(this).outerHeight(),$(this).parent().attr("data-level");$(this).addClass("ishover"),$(this).css("z-index",easyjs.helpers.zindex()),$(this).css("position","relative"),$(this).css("white-space","nowrap"),$(this).find("> ul").css("min-width",t+"px"),$(this).find("> ul").fadeIn(e),$(this).find("> ul").css("top","0px"),$(this).find("> ul").css("left",t+"px")}),$("body").delegate(".easyjs-menu-vertical li","mouseleave",function(){$(this).removeClass("ishover");var t=$(this);setTimeout(function(){0==t.hasClass("ishover")&&t.find("ul").fadeOut(e)},50)}),$(".easyjs-menu-vertical ul li ul").hide()};return{init:t}}(),s=function(){var e,t,o={color:"#FFF",bgcolor:"#000",maxwidth:"400px",font:"Arial",fontsize:"11px",padding:6,borderradius:"5px",selector:"[title]",title_attr:"title"},s=function(e){t=$.extend({},o,e),$(document).on("mousemove",t.selector,a),$(document).on("mouseenter",t.selector,i),$(document).on("mouseleave",t.selector,r)},a=function(){var e=easyjs.mouse.getx()-$(".easy-tooltip-container").outerWidth()/2;0>e&&(e=0),$(".easy-tooltip-container").css("left",e+"px")},i=function(){var o=$(this);e=o.attr(t.title_attr),o.attr(t.title_attr,"");var s='<div class="easy-tooltip-container" style="display:inline; font-family:'+t.font+";font-size:"+t.fontsize+";max-width:"+t.maxwidth+";color:"+t.color+";background:"+t.bgcolor+";border-radius: "+t.borderradius+"; padding: "+t.padding+'px;">';s+=e,s+='<div class="easy-tooltip-arrow" style="position:absolute;border-style: solid;"></div>',s+="</div>",$("body").append(s);var a=o.offset(),i=a.top,r=easyjs.mouse.getx()-$(".easy-tooltip-container").outerWidth()/2;0>r&&(r=0);var n=i-$(".easy-tooltip-container").outerHeight()-15-$(document).scrollTop();0>n?(i=i+30+$(this).outerHeight(),$(".easy-tooltip-arrow").css("border-width","0 7.5px 10px 7.5px"),$(".easy-tooltip-arrow").css("border-color","transparent transparent "+t.bgcolor+" transparent"),$(".easy-tooltip-arrow").css("top","-9px")):(i=i-15-$(".easy-tooltip-container").outerHeight(),$(".easy-tooltip-arrow").css("border-width","10px 7.5px 0 7.5px"),$(".easy-tooltip-arrow").css("border-color",t.bgcolor+" transparent transparent transparent"),$(".easy-tooltip-arrow").css("bottom","-9px")),$(".easy-tooltip-container").css("position","absolute"),$(".easy-tooltip-container").css("top",i+"px"),$(".easy-tooltip-container").css("left",r+"px"),$(".easy-tooltip-container").css("zindex",easyjs.helpers.zindex()),$(".easy-tooltip-container").css("font-family",t.font),$(".easy-tooltip-container").css("font-size",t.fontsize),$(".easy-tooltip-arrow").css("left",$(".easy-tooltip-container").outerWidth()/2+"px")},r=function(){$(".easy-tooltip-container").remove(),$(this).attr(t.title_attr,e)};return{init:s}}(),a=function(){var e,t,o=function(){$(document).ready(function(){$(document).mousemove(function(e){s(e.clientX),a(e.clientY+$(document).scrollTop())})})},s=function(t){e=t},a=function(e){t=e},i=function(){return e},r=function(){return t};return{init:o,setx:s,sety:a,getx:i,gety:r}}(),i=function(){var e=function(){var e=0;return $("*").each(function(){var t=parseInt($(this).css("z-index"));e=t>e?t:e}),e+1};return{zindex:e}}(),r=function(){var e,t,o=function(t){e=t},s=function(e){return t.onbeforeclose()&&($("body").off("mousedown"),$("body").css("overflow","auto"),t.escape&&$("body").off("keydown"),t.fade?$(".easyjs-modal-bg,.easyjs-modal-modal").fadeOut(500,function(){$(".easyjs-modal-bg,.easyjs-modal-modal").remove()}):$(".easyjs-modal-bg,.easyjs-modal-modal").remove(),t.onclose()),!1},a=function(o){var a={title:!1,titlecolor:"#666",bgtitle:"#EEE",titleborder:"1px solid #CCC",content:!1,contentcolor:"#666",bgcontent:"#FFF",close:!0,bgclose:"#666",closecolor:"#EEE",closeborder:"0px solid #CCC",onbeforeclose:function(){return!0},onclose:function(){},hoverbgclose:"#CCC",hoverclosecolor:"#000",closehoverborder:"0px solid #CCC",iframe:!1,iframepadding:10,iframescroll:"no",ajax:!1,image:!1,container:!1,width:"auto",height:"auto",border:"0px solid #CCC",rounded:!0,borderradius:5,shadow:!0,background:!0,draggable:!1,fade:!1,escape:!1,buttons:null,buttonsborder:"1px solid #CCC",buttonsbg:"#EEE"},i=$.extend({},e,o);t=$.extend({},a,i),$("body").css("overflow","hidden");var r=$(window).innerWidth(),n=$(window).innerHeight();if("full"==t.width)var l=r-r/100*10+"px";else var l=t.width;if("full"==t.height)var d=n-n/100*10+"px";else var d=t.height;var c=r+"px",u=n+"px";"auto"==t.width&&(c=r-r/100*10+"px"),"auto"==t.height&&(u=n-n/100*10+"px"),t.background&&$("body").append('<div class="easyjs-modal-bg" style="z-index:'+easyjs.helpers.zindex()+";display:inline;position:absolute;top:"+$(document).scrollTop()+"px;left:0px;background:#000;opacity:0.5;width:"+r+"px;height:"+n+'px;"></div>'),$(".easyjs-modal-bg").click(function(e){e.preventDefault()});var p='<div class="easyjs-modal-modal" style="z-index:'+easyjs.helpers.zindex()+";display:none;position:absolute;width:"+l+";height:"+d+";min-width:200px;max-width: "+c+"; max-height: "+u+';">';if(0!=t.title){p+='<div class="easyjs-modal-title" style="padding: 10px; font-weight:bold; font-size:120%;">'+t.title+"</div>";var h="10",m="10"}else if(0!=t.container&&$(t.container).is("[title]")){p+='<div class="easyjs-modal-title" style="padding: 10px; font-weight:bold; font-size:120%;">'+$(t.container).attr("title")+"</div>";var h="10",m="10"}else var h="-12",m="-12";if(t.close&&(p+='<a href="javascript:void(0);" class="easyjs-modal-close" style="text-decoration:none; display:block; width:24px; height:24px; border-radius: 3px; position:absolute; right: '+m+"px; top: "+h+'px;line-height: 24px; vertical-align:middle; font-size:16px; font-face:Arial; text-align:center;">X</a>'),0!=t.iframe){var y='<iframe class="easyjs-modal-iframe" frameborder="0" allowfullscreen></iframe>';p+='<div style="padding: '+t.iframepadding+'px;">',p+=y,p+="</div>"}else if(0!=t.content)p+='<div style="padding: 10px;">',p+=t.content,p+="</div>";else if(0!=t.ajax)p+='<div style="padding: 10px;" class="easyjs-modal-ajax">',p+="Loading",p+="</div>";else if(0!=t.image){var f=r-r/100*20+"px",b=n-n/100*20+"px";p+='<div style="padding: 10px;" class="easyjs-modal-image">',p+='<img src="'+t.image+'" style="max-width:'+f+";max-height:"+b+';">',p+="</div>"}else 0!=t.container&&(p+='<div style="padding: 10px;">',p+=$(t.container).html(),p+="</div>");if(p+="</div>",$("body").append(p),$(".easyjs-modal-modal").hide(),0!=t.image){var g=$(".easyjs-modal-image img");g.prop("complete")||g.on("load",function(){var e=(r-$(".easyjs-modal-modal").outerWidth())/2,t=(n-$(".easyjs-modal-modal").outerHeight())/2;t+=$(document).scrollTop(),$(".easyjs-modal-modal").css("left",e+"px"),$(".easyjs-modal-modal").css("top",t+"px")})}if(null!=t.buttons){$(".easyjs-modal-modal").append('<div class="easyjs-modal-footer" style="width:100%;height:60px;padding: 10px; position:absolute;bottom:0px;left:0px;text-align:right;"></div>');var x=1;$.each(t.buttons,function(e,t){var o="smb"+x;$(".easyjs-modal-footer").append('<button type="button" style="margin-right: 3px;" class="easyjs-modal-button '+t.style+'" id="'+o+'">'+e+"</button>"),$("#"+o).click(function(){t.action()}),x++}),$(".easyjs-modal-modal").height($(".easyjs-modal-modal").height()+60)}if(t.fade?$(".easyjs-modal-bg,.easyjs-modal-modal").fadeIn(500):$(".easyjs-modal-bg,.easyjs-modal-modal").show(),0!=t.ajax&&$.post(t.ajax,function(e){$(".easyjs-modal-ajax").css("overflow","auto"),$(".easyjs-modal-ajax").html(e);var o=(r-$(".easyjs-modal-modal").outerWidth())/2,s=(n-$(".easyjs-modal-modal").outerHeight())/2;s+=$(document).scrollTop(),$(".easyjs-modal-modal").css("left",o+"px"),$(".easyjs-modal-modal").css("top",s+"px");var a=$(".easyjs-modal-modal").outerWidth(),i=$(".easyjs-modal-modal").outerHeight()-$(".easyjs-modal-title").outerHeight()-2*t.iframepadding;$(".easyjs-modal-ajax").css("width",a+"px"),$(".easyjs-modal-ajax").css("height",i+"px")}),null!=t.iframe&&$(".easyjs-modal-iframe").attr("src",t.iframe),$(".easyjs-modal-modal").css("background",t.bgcontent),$(".easyjs-modal-modal").css("color",t.contentcolor),$(".easyjs-modal-title").css("background",t.bgtitle),$(".easyjs-modal-title").css("color",t.titlecolor),$(".easyjs-modal-title").css("border-bottom",t.titleborder),$(".easyjs-modal-footer").css("border-top",t.buttonsborder),$(".easyjs-modal-footer").css("background",t.buttonsbg),$(".easyjs-modal-close").css("background",t.bgclose),$(".easyjs-modal-close").css("color",t.closecolor),$(".easyjs-modal-close").css("border",t.closeborder),$(".easyjs-modal-modal").css("border",t.border),t.rounded&&($(".easyjs-modal-modal").css("border-radius",t.borderradius+"px"),$(".easyjs-modal-title").css("border-top-left-radius",t.borderradius+"px"),$(".easyjs-modal-title").css("border-top-right-radius",t.borderradius+"px"),$(".easyjs-modal-footer").css("border-bottom-left-radius",t.borderradius+"px"),$(".easyjs-modal-footer").css("border-bottom-right-radius",t.borderradius+"px")),t.shadow&&(t.background?$(".easyjs-modal-modal").css("box-shadow","10px 10px 10px #555555"):$(".easyjs-modal-modal").css("box-shadow","5px 5px 5px #BDBDBD")),null!=t.iframe){var v=$(".easyjs-modal-modal").outerWidth()-2*t.iframepadding,j=$(".easyjs-modal-modal").outerHeight()-$(".easyjs-modal-title").outerHeight()-2*t.iframepadding;$(".easyjs-modal-iframe").attr("scrolling",t.iframescroll),$(".easyjs-modal-iframe").css("width",v+"px"),$(".easyjs-modal-iframe").css("height",j+"px"),$(".easyjs-modal-iframe").css("overflow","hidden")}var w=(r-$(".easyjs-modal-modal").outerWidth())/2,z=(n-$(".easyjs-modal-modal").outerHeight())/2;if(z+=$(document).scrollTop(),$(".easyjs-modal-modal").css("left",w+"px"),$(".easyjs-modal-modal").css("top",z+"px"),$(".easyjs-modal-close").click(function(){s()}),$(".easyjs-modal-close").mouseleave(function(){$(".easyjs-modal-close").css("background",t.bgclose),$(".easyjs-modal-close").css("color",t.closecolor),$(".easyjs-modal-close").css("border",t.closeborder)}),$(".easyjs-modal-close").mouseenter(function(){$(".easyjs-modal-close").css("background",t.hoverbgclose),$(".easyjs-modal-close").css("color",t.hoverclosecolor),$(".easyjs-modal-close").css("border",t.closehoverborder)}),t.draggable){$(".easyjs-modal-title").css("cursor","move");var H=null;$("body").on("mousedown",".easyjs-modal-title",function(e){$(this).attr("unselectable","on").addClass("draggable");var t=$(".draggable").outerWidth(),o=$(".draggable").outerHeight();$("body").on("mousemove",function(e){H&&H.offset({top:e.pageY-o/2,left:e.pageX-t/2})}),H=$(".easyjs-modal-modal")}).on("mouseup",".draggable",function(e){H=null,$(this).removeAttr("unselectable").removeClass("draggable")})}return t.escape&&$("body").keydown(function(e){27==e.which&&(e.preventDefault(),s())}),this};return{show:a,close:s,config:o}}();return{modal:r,helpers:i,mouse:a,tooltip:s,menu:o,popover:t,tour:e}}();$(document).ready(function(){$(".easyjs-hide").hide(),easyjs.mouse.init(),easyjs.menu.init(),easyjs.popover.init()});